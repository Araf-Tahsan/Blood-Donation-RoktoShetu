<h2>Donor List</h2>

<form method="get">
    <select name="division">
        <option value="">Select Division</option>
        {% for val, label in divisions %}
            <option value="{{ val }}">{{ label }}</option>
        {% endfor %}
    </select>

    <select name="district">
        <option value="">Select District</option>
        {% for val, label in districts %}
            <option value="{{ val }}">{{ label }}</option>
        {% endfor %}
    </select>

    <select name="blood_type">
        <option value="">Blood Group</option>
        {% for val, label in blood_types %}
            <option value="{{ val }}">{{ label }}</option>
        {% endfor %}
    </select>

    <button type="submit">Search</button>
</form>

<div style="display:flex; flex-wrap:wrap;">
    {% for donor in donors %}
        <div style="text-align:center; margin:10px;">
            {% if donor.profile_picture %}
                <img src="{{ donor.profile_picture.url }}" width="80" height="80" style="border-radius: 50%;">
            {% endif %}
            <p>{{ donor.first_name }} {{ donor.last_name }}</p>
            <p>{{ donor.contact_number }}</p>
            <p>{{ donor.district }}, {{ donor.division }}</p>
            <p>{{ donor.blood_type }}</p>
            <p>Available: {{ donor.is_available }}</p>
        </div>
    {% endfor %}
</div>
